{% extends "base.html" %}

{% block title %}Quick Verify - VVP Verifier{% endblock %}

{% block header %}Quick Verify{% endblock %}

{% block content %}
<section id="verify-section">
    <p>Paste a VVP PASSporT JWT to verify the complete credential chain in one step.</p>

    <form hx-post="/ui/simple-verify" hx-target="#result" hx-swap="innerHTML" hx-indicator="#loading">
        <label for="jwt">PASSporT JWT</label>
        <textarea
            id="jwt"
            name="jwt"
            rows="5"
            placeholder="eyJhbGciOiJFZERTQSIsInR5cCI6InBhc3Nwb3J0Ii..."
        >{{ default_jwt }}</textarea>

        <div style="margin-bottom: 0.5rem; padding: 0.5rem; background: var(--vvp-surface, #f8f9fa); border-radius: 0.25rem;">
            <label style="display: flex; align-items: center; gap: 0.5rem; margin: 0; cursor: pointer;">
                <input type="checkbox" id="use-jwt-time" name="use_jwt_time" value="on">
                <span>Use JWT time for expiry check (testing mode for old JWTs)</span>
            </label>
        </div>

        <button type="submit">
            <span id="loading" class="htmx-indicator">Verifying...</span>
            <span>Verify</span>
        </button>
    </form>
</section>

<section id="result">
    <p><em>Paste a JWT above and click "Verify" to see the complete credential chain.</em></p>
</section>

<hr>
<p><a href="/">Back to full verification workflow</a></p>
{% endblock %}
